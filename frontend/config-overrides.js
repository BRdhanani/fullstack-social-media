const path = require('path')
const {
  addWebpackAlias,
  override,
  fixBabelImports,
  addLessLoader,
  useBabelRc,
  addExternalBabelPlugins,
} = require('customize-cra')

module.exports = override(
  ...addExternalBabelPlugins('@babel/plugin-proposal-optional-chaining'),
  useBabelRc(),
  fixBabelImports('import', {
    libraryName: 'antd',
    libraryDirectory: 'es',
    style: true,
  }),
  addWebpackAlias({
    ['Assests']: path.resolve(__dirname, 'src/Assets'),
  }),
  addLessLoader({
    javascriptEnabled: true,
    modifyVars: {
      '@primary-color': '#3D8FF8',
      '@btn-font-weight': '600',
      '@input-border-color': '#E3E9EE',
      '@picker-border-color': '#E3E9EE',
      '@input-bg': '#F4F5F7',
      '@picker-bg': '#F4F5F7',
      '@input-color': '#2e3134',
      '@border-radius-base': '4px',
      '@btn-border-radius-base': '@border-radius-base',
      '@btn-font-size-lg': '14px',
      '@select-border-color': '@input-border-color',
      '@select-dropdown-bg': '@input-bg',
      '@select-item-selected-bg': '@input-bg',
      '@select-background': '@input-bg',
      '@select-dropdown-font-size': '13px',
      '@select-item-selected-font-weight': '500',
      '@select-item-selected-color': '@input-color',
      '@menu-collapsed-width': '90%',
      '@menu-bg': '#FFFFFF',
      '@menu-item-color': '#2e3134',
      '@menu-item-padding': '10px 25px',
      '@menu-highlight-color': '#FFFFFF',
      '@page-header-padding': '30px',
      '@page-header-heading-title': '20px',
      '@page-header-padding-breadcrumb': '20px',
      '@breadcrumb-font-size': '11px',
      '@breadcrumb-base-color': '#697278',
      '@breadcrumb-last-item-color': '#959ca1',
      '@breadcrumb-separator-color': '#697278',
      '@breadcrumb-separator-margin': '0 6px',
      '@avatar-border-radius': '6px',
      '@collapse-header-bg': 'transparent',
      '@collapse-content-padding': '16px 30px',
      '@collapse-header-arrow-left': '30px',
      '@statistic-title-font-size': '16px',
      '@statistic-content-font-size': '12px',
      '@table-bg': '#ffffff',
      '@table-header-bg': '#f4f5f7',
      '@table-header-color': '#959ca1',
      '@input-placeholder-color': '#959ca1',
      '@input-color': '#2e3134',
      '@dropdown-menu-bg': '#FFFFFF',
      '@table-header-sort-bg': '#f4f5f7',
      '@table-padding-vertical': '0px',
      '@table-padding-horizontal': '0px',
      '@popover-arrow-width': '10px',
      '@modal-header-bg': '#f3f5f7',
      '@modal-header-padding-vertical': '18px',
      '@modal-header-padding-horizontal': '30px',
      '@modal-footer-padding-vertical': '18px',
      '@modal-footer-padding-horizontal': '30px',
    },
  })
)
